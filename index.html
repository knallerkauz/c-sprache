<!DOCTYPE html>
<html>
<head>
  <title>Mit Zahlen arbeiten in der C-Programmiersprache</title>
  <style>
    code
    {
      background-color: #eee;
      border-radius: 3px;
      padding: 0 3px;
    }
    .silver_1
    {
      background-color: #c0c0c0;
    }
    .anchor
    {
      text-align: center;
    }
    div
    {
      background-color: #eee;
      border: 1px solid;
      vertical-align: left;
      top: center; 
    }
  </style>
  <meta charset="utf-8">
</head>

<body>
  <br>
  <p><h1 align="center">Mit Zahlen arbeiten in C</h1></p>
  <br>
  <br>
  <p align="center"><a href="#ganzen_zahlen">Mit ganzen Zahlen rechnen</a>&nbsp;&nbsp;&nbsp;<a href="#fließkomma-zahlen">Fließkomma-Zahlen</a></p>
  <br>
  <br>
  <p><h2 id="ganzen_zahlen", align="center">Mit ganzen Zahlen rechnen</h2></p>
  <ul>
    <li>Im vorherigen Abschnitt haben Sie die Grammatik (Syntax) eines C-Programms kennengelernt und mit Hilfe der Funktion <i>printf</i> erste Berechnungen durchgeführt.</li>
    <li>Die Beispielprogramme hatten allerdings den Nachteil, daß für jeden neuen Zahlenwert das Programm neu übersetzt werden mußte.</li>
    <li>Es wäre viel praktischer, wenn das Programm beliebige Zahlen während des Programmlaufs von der Tastatur entgegennehmen und mit diesen Werten die Berechnungen durchführen könnte.</li>
    <li>Erst diese Flexibilität macht ein Programm zu einem sinnvollen Programm.</li>
  </ul>
  <br>
  <br>
  <ul>
    <li>Die C-Bibliothek stellt eine Vielzahl von Funktionen zur Dateneingabe bereit.</li>
    <li>Für die folgenden Beispiele wird die Funktion <i>scanf</i> benutzt.</li>
    <li>Man kann diese Funktion als Gegenstück zu <i>printf</i> betrachten, da auch hier ein Formatstring mit Platzhaltern, gefolgt von einer Variablenliste, verwendet wird.</li>
  </ul>
  <br>
  <br>
  <p>Geben Sie das Programm <i>prozentzeichen.c</i> ein, und probieren Sie es aus.</p>
  <p>Auch hier gilt natürlich, daß die Zahlen der Nummernliste nicht mit eingegeben werden müssen.</p>
  <br>
  <br>
  <div><pre><code>
  /* prozentzeichen.c */
  #include &lt;stdio.h&gt;
  
  main()
  {
    int x,y;
    printf("\n\t1 .  R e c h e n p r o g r a m m\n");
    printf("\nBitte x eingeben :");
    scanf("%i",&x);
    printf("Bitte y eingeben: ");
    scanf("%i",&y);
    printf("\n %i + %i ist %i",x,y,x+y);
    printf("\n %i - %i ist %i",x,y,x-y);
    printf("\n %i * %i ist %i",x,y,x*y);
    printf("\n %i / %i ist %i",x,y,x/y);
    printf("\n %i %% %i ist %i\n\n",x,y,x%y);
  }
  </code></pre></div>
  <br>
  <br>
  <p>Geben Sie als Werte für <i>x</i> 12 und für <i>y</i> 3 ein.</p>
  <p>Das Ergebnis sieht dann so aus:</p>
  <br>
  <pre>
          1 .  R e c h e n p r o g r a m m
  
  Bitte x eingeben :12
  Bitte y eingeben :3

   12 + 3 ist 15
   12 - 3 ist 9
   12 * 3 ist 36
   12 / 3 ist 4
   12 % 3 ist 0
  </pre>
  <br>
  <p>Neben der Funktion <i>scanf</i> sind noch weitere neue Elemente in diesem Programm aufgetaucht.</p>
  <br>
  <ul>
    <p><pre><code>#include &lt;stdio.h&gt;</code></pre></p>
    <li>Eine oder mehrere <i>#include</i>-Anweisungen finden sich in fast jedem C-Programm wieder.</li>
    <li><i>#include</i> ist keine Porgrammansweisung, sondern eine sogenannte <a href="dateien_einfügen.html">Präprozessor-Direktive</a>.</li>
    <li>Hinter diesem furchteinflößenden Wort verbirgt sich allerdings nichts Geheimnisvolles.</li>
    <li>Bevor der eigentliche Kompiliervorgang beginnt, sucht der sogenannate Präprozessor nach dem Nummernzeichen (#).</li>
    <li>Findet er dieses Zeichen, so weiß er, daß jetzt eine Anweisung für ihn folgt.</li>
    <li>Das Wort <i>include</i> bedeutet nun, dass er die Datei, die danach in spitzen Klammern angegeben ist, an dieser Stelle in Ihr Programm einfügen soll.</li>
    <li>Dieser Vograng lässt sich mit dem automatischen Einfügen von Textbausteinen bei einer Textverarbeitung vergleichen.</li>
    <li>Im Beispiel soll die Datei <i>stdio.h</i> in den Programmtext einfgefügt werden.</li>
    <li>Die <i>include</i>-Dateien, die an der Endung <i>h</i> zu erkennen sind, haben u.a. die Aufgabe, so genannte Prototypen in Ihr Programm einzubauen.</li>
    <li>Das sind Definitionen, die vom Compiler benötigt werden, damit er die korrekte Verwendung der Bibliotheksfunktionen kontrollieren kann.</li>
    <li>In ihrer Dokumentation ist zu jeder einzelnen Funktion angegeben, welche <i>include</i>-Datei von ihr benötigt wird.</li>
  </ul>
  <br>
  <p>Bevor Sie weiterlesen, sollten Sie die folgende Aufgabe lösen.</p>
  <br>
  <table>
    <tr>
      <td class="silver_1"><b>Aufgabe 4</b></td>
    </tr>
    <tr>
      <td>Welche <i>include</i>-Dateien werden für die Funktionen <i>strlen</i> (ermittelt die Länge einer Zeichenkette) und <i>getchar</i> (liest ein Zeichen von der Tastatur) benötigt?</td>
    </tr>
    <tr>  
      <td>Benutzen Sie zur Lösung den Anhang dieser Seite.</td>
    </tr>
    <tr>
      <td> Der steht <a href="anhang.html">hier</a>.</td>
    </tr>
  </table>
  <br>
  <br>
  <ol>
    <p><pre><code>int x,y;</code></pre></p>
    <li>In bspl0005.c sollen Werte während des Programmlaufs eingegeben werden.</li>
    <li>Darum muß im Programm dafür gesorgt werden, daß die Werte gespeichert werden.</li>
    <li>Diese Aufgabe wird von Variablen übernommen.</li>
    <li>Bevor eine Variable das erste Mal verwendet werden kann, muß sie deklariert werden, das heißt, Typ und Name müssen festgelegt werden.</li>
    <li>Die beiden Variablen <i>x</i> und <i>y</i> sind vom Typ Integer (Ganzzahl).</li>
    <li>Sie werden durch das Schlüsselwort <i>int</i> gekennzeichnet.</li>
    <li>Zuerst kommt also die Typbezeichnung, hier <i>int</i>, dann der Name der Variablen.</li>
    <li>Werden mehrere Variablen vom gleichen Typ benötigt, können sie - durch Komma getrennt - hinter dem Schlüsselwort aufgezählt werden.</li>
  </ol>
  <br>
  <br>
  <ol>
    <p><pre><code>printf("\n\t1 .  R e c h e n p r o g r a m m\n");</code></pre></p>
    <li>In deiser Zeile wird die Escapesequenz \t verwendet.</li>
    <li>Der Buschstabe <i>t</i> steht für <i>Tabulator</i> und bewegt den Cursor um jeweils acht Stellen nach rechts.</li>
    <li>Der Tabulator ist hier benutzt worden, um die Überschrift ungefähr in die Mitte der Zeile zu positionieren.</li>
  </ol>
  <br>
  <br>
  <ol>
    <p><pre><code>scanf("%i",&x);</code></pre></p>
    <li>Die Funktion <i>scanf</i> dient der Eingabe von Daten und verfügt über ähnliche Parameter wie <i>printf</i>.</li>
    <li>Zuerst kommt eine Zeichenkette mit einem Platzhalter <i>(%i)</i> für die einzugebende Variable und dahinter die Variable selbst (<i>x</i> bzw. <i>y</i>) mit vorangestelltem &.</li>
    <li>Die genaue Bedeutung des &-Zeichens vor der Variablen zu erklären würde an dieser Stelle zu weit führen.</li>
    <li>Dieser Punkt wird ausführlich <a href="adressen.html">unter Adressen</a> besprochen.</li>
    <li>Hier mag genügen, daß das &-Zeichen die Adresse einer Variablen liefert.</li>
  </ol>
  <br>
  <br>
  <ol>
    <p><pre><code>printf("\n%i %% %i ist %i",x,y,x%y);</code></pre></p>
    <li>Hier soll von <i>printf</i> innerhalb des Textes das %-Zeichen ausgegeben werden.</li>
    <li>Da es jedoch die Platzhalter für Variablen kennzeichnet, muß man für seine Anzeige %% benutzen.</li>
    <li>Durch <i>x</i>%<i>y</i> wird eine sogenannte Modulo-Operation oder auch Divisionsrestberechnung ausgeführt.</li>
    <li>Das Ergebnis ist 0, weil sich 12 glatt durch 3 teilen läßt.</li>
    <li>Bei <i>13</i>%<i>3</i> lautet es 1, <i>14</i>%<i>3</i> liefert 2 und <i>15</i>%<i>3</i> wieder 0.</li>
  </ol>
  <br>
  <br>
  <p>Starten Sie jetzt das Programm nochmals, und geben Sie für <i>x</i> 125 und für <i>y</i> 25 ein.</p>
  <p>Sie erhalten als Anzeige dann:</p>
  <br>
  <pre>
          1 .  R e c h e n p r o g r a m m
  
  Bitte x eingeben :125
  Bitte y eingeben :25

   125 + 25 ist 150
   125 - 25 ist 100
   125 * 25 ist 3125
   125 / 25 ist 5
   125 % 25 ist 0
  </pre>
  <br>
  <br>
  <p>Auch diese Ergebnisse sind richtig.</p>
  <p>Das Programm scheint korrekt zu funktionieren.</p>
  <p>Machen Sie noch einen letzten Test: Geben Sie diesmal für <i>x</i> 300 und für <i>y</i> 200 ein.</p>
  <p>Je nach Computersystem erhalten Sie eine der folgenden Anzeigen.</p>
  <br>
  <p>Auf einem 32-Bit-Rechner sehen Sie:</p>
  <pre>
          1 .  R e c h e n p r o g r a m m
  
  Bitte x eingeben :300
  Bitte y eingeben :200

   300 + 200 ist 500
   300 - 200 ist 100
   300 * 200 ist 60000
   300 / 200 ist 1
   300 % 200 ist 100
  </pre>
  <br>
  <p>Auf einem 16-Bit-System liefert das Programm dagegen:</p>
  <pre>
          1 .  R e c h e n p r o g r a m m
  
  Bitte x eingeben :300
  Bitte y eingeben :200

   300 + 200 ist 500
   300 - 200 ist 100
   300 * 200 ist -5536
   300 / 200 ist 1
   300 % 200 ist 100 
  </pre>
  <br>
  <ul>
    <li>Die Ergebnisse für Addition und Subtraktion sind zwar immer noch richtig, bei der Multiplikation und der Division sind die Ergebnisse jedoch augenscheinlich teilweise falsch.</li>
    <li>Woran liegt das?</li>
  </ul>
  <ul>
    <li>Sie hatten die Variablen <i>x</i> und <i>y</i> als Typ <i>int</i> deklariert.</li>
    <li>Das bedeutet, daß diese Variablen nur ganze Zahlen aufnehmen können.</li>
    <li>Die Division von 300/200 ergibt aber 1.5.</li>
    <li>(Beachten Sie bitte, daß C - wie andere Programmiersprachen auch - einen Punkt als Dezimalzeichen verwendet.)</li>
    <li>Da also Integer-Variablen nur ganze Zahlen speichern können, geht der Dezimalanteil verloren.</li> 
    <li>Damit wird die Ausgabe <i>300/200 ist 1</i> verständlich.</li>
  </ul>
  <ul>
    <li>Das erklärt allerdings noch immer nicht, warum 300*200 auf 16-Bit-Computern -5536 ergeben soll.</li>
    <li>Aber auch für dieses Verhalten liegt der Grund in dem gewählten Variablentyp.</li>
    <li>Integer-Zahlen haben nämlich bei 16-Bit-Computern einen Wertebereich, der nur die Darstellung der Zahlen von -32 768 bis 32 767 erlaubt (2<sup>16</sup> = 65 536 Werte.)</li>
    <li>Bei 32-Bit-Rechnern reicht er dagegen von -2 147 483 648 bis 2 147 483 647 (2<sup>32</sup> = 4 294 967 296 werte).</li>
    <li>Da 300*200 aber bereits 60 000 ergibt, kommt es zu diesem seltsamen Ergebnis.</li>
    <li>Der tiefere Grund dafür, daß gerade -5536 herauskommt, liegt in der internen Darstellungsform für negative und positive Dualzahlen.</li>
    <li>Die ausführliche Erklärung würde hier zu weit führen.</li>
  </ul>
  <ul>
    <li>Sie sollten sich an dieser Stelle aber merken, daß Sie als Programmierer dafür verantwortlich sind, daß der Wertebereich der Integer-Zahlen nicht überschritten wird.</li>
    <li>Sie sollten sie trotzdem so oft wie möglich verwenden, da sie die &laquo;natürlichsten&raquo; Zahlen für einen Computer sind.</li>
    <li>Der Rechner kann mit diesen Zahlen am effektivsten, das heißt am schnellsten arbeiten.</li>
  </ul>
  <br>
  <p><h2 id="fließkomma-zahlen", align="center">Fließkomma-Zahlen</h2></p>
  <ul>
    <li>Die Verwendug von Ganzzahlen ist auf den genanntn Wertebereich begrnzt, außerdem können ebn nur ganze Zahlen dargestellt werden.</li>
    <li>Sollen größere Zahlen oder Zahlen mit Nachkommastellen verwendet werden, müssen Sie andere Variablentypen benutzen.</li>
    <li>Im nachstehenden Programm wird der Typ <i>float</i> vorgestellt, der einen Wertebereich von 1.17549 * 10 hoch -38 bis 3.40 282 * hoch 38 darstellen kann.</li>
    <li>Für negative Zahlen gilt das gleiche.</li>
    <li>Ausgeschrieben lauten diese Zahlen 0,0000000000000000000000000000000000000117549 und 340282000000000000000000000000000000000.</li>
    <li>Das dürfte fürs erste ausreichen.</li>
  </ul>
  <br>
  <div>
  <p><i>Hinweis:</i></p>
  <p>Sie können sich beim folgdenden Beispiel viel Tipparbeit ersparen, wenn Sie das letzte Programm überschreiben.</p>
  <p>Sie müssen nur <i>int</i> gegen <i>float</i> und alle <i>%i</i> gegen <i>%f</i> austauschen.</p>
  <p>Außerdem müssen Sie die letzte <i>printf</i>-Anweisung mit der Modulo-Operation entfernen.</p>
  </div>
  <br>
  <br>
  <div><pre><code>
  /* fließkommazahlen.c */
  #include &lt;stdio.h&gt;
  
  main()
  {
    float x,y;
    printf("\n\t2 .  R e c h e n p r o g r a m m\n");
    printf("\nBitte x eingeben :");
    scanf("%f",&x);
    printf("Bitte y eingeben: ");
    scanf("%f",&y);
    printf("\n %f + %f ist %f",x,y,x+y);
    printf("\n %f - %f ist %f",x,y,x-y);
    printf("\n %f * %f ist %f",x,y,x*y);
    printf("\n %f / %f ist %f",x,y,x/y);
  }
  </code></pre></div>
  <br>
  <p>Geben Sie jetzt wieder für <i>x</i> 300 und für <i>y</i> 200 ein.</p>
  <br>
  <pre>
          2 .  R e c h e n p r o g r a m m
  
  Bitte x eingeben :300
  Bitte y eingeben :200

   300.000000 + 200.000000 ist 500.000000
   300.000000 - 200.000000 ist 100.000000
   300.000000 * 200.000000 ist 60000.000000
   300.000000 / 200.000000 ist 1.500000
  </pre>
  <br>
  <ul>
    <li>In diesem Programm sind die Variablen <i>x</i> und <i>y</i> vom Typ <i>float</i>; sie können somit auch große Zahlen und Zahlen mit Nachkommastellen aufnehmen.</li>
    <li>Damit die Ausgabe dieser Zahlen auch richtig erfolgt, haben Sie in der Funktion <i>printf</i> den Platzhalter <i>%i</i> verwendet.</li>
    <li>Standardmäßig werden dabei sechs Nachkommastellen angezeigt.</li>
    </ul>
  <br>
    <p>Divisionsrestberechnungen wie in <i>prozentzeichen.c</i> machen bei Variablen vom Typ <i>float</i> keinen Sinn, denn jetzt wird ja dezimalstellengenau gerechnet.</p>
  <br> 
  <p align="center"><a href="#top">Top of Page</a></p>
  <br>
  <br>
  <br>
</body>
</html>



